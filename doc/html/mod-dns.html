<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<!-- $Id: mod-dns.html,v 1.2 2000/04/13 11:21:24 tothwolf Exp $ -->

<html>
  <head>
    <title>Eggdrop Documentation: DNS module</title>
  </head>

  <body>
    <div align="center">
      <p><strong>DNS module</strong></p>
    </div>
    <hr>

    <p>This module provides asynchronous dns support. This will avoid long
    periods where the bot hangs, waiting for a hostname to resolve, which
    often let it timeout on all other connections.</p>

    <blockquote>
      <ol>
        <li><a href="#config">Config file settings</a></li>

        <li><a href="#tclcmds">Tcl commands</a></li>
      </ol>
    </blockquote>
    <hr>

    <p><a name="config"></a>1. <strong>Config file settings</strong></p>

    <blockquote>
      <p>Lines in <strong>bold</strong> are the lines that need to be
      included in the eggdrop config file if you want to use the share
      module.<br>
       Lines in bold <strong><em>italics</em></strong> are optional and only
      required if you wish to change the default behaviour for that
      particular feature.</p>

      <p>Put this line into your config file to load dns module:</p>

      <p><strong>loadmodule dns</strong></p>
    </blockquote>
    <hr>

    <p><a name="tclcmds"></a>2. <strong>Tcl commands:</strong></p>

    <blockquote>
      <dl>
        <dt><strong>dnslookup &lt;ip-address/hostname&gt; &lt;proc&gt;
        [[arg1] [arg2] ... [argn]]</strong></dt>

        <dd>
          <p>Issues an asynchronous dns lookup request. The command will
          block if dns module is not loaded, otherwise it will either return
          immediately or immediately call the proc (e.g. if the lookup is
          already cached).</p>

          <p>As soon as the request completes, &lt;proc&gt; will be called as
          follows:</p>

          <p>&lt;proc&gt; ipaddress hostname status [[arg1] [arg2] ...
          [argn]]</p>

          <p>status is 1 if the lookup was successful and 0 if it wasn&#39;t.
          All additional parameters (called arg1, arg2 and argn above) get
          appended to the proc&#39;s other parameters.</p>
        </dd>
      </dl>
    </blockquote>
    <hr>

    <p><em>© 1997 Robey Pointer<br>
     © 1999,2000 Eggheads Development Team</em></p>
  </body>
</html>

